<!DOCTYPE html>
<html lang="en">
<head>
  <title>SwapYa!</title>
<!--to change the icon in the browser tab-->
<link rel="shortcut icon" type="image/png" href="favicon-32x32.png" sizes="32x32"  />
<link rel="shortcut icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
  <meta charset="utf-8">
  <!--Bootstrap-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<!-- Firebase -->
	<script src='https://cdn.firebase.com/js/client/2.4.1/firebase.js'></script>
	<!-- AngularJS -->
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
  <style>
    /* Remove the navbar's default rounded borders and increase the bottom margin */ 
    .navbar {
      margin-bottom: 50px;
      border-radius: 0;
      background-color :#ff9933;
      border-color: transparent;
    }
    /* changing the font color of the navBar */
    .nav.navbar-nav li a {
    color: black;
	}
	
    /* Remove the gap underneath the jumbotron (between its bottom and the nav bar) */ 
     .jumbotron {
      margin-bottom: 0;
      background:linear-gradient(#EDF1F2, #7AABFA) fixed;
    }
   
    /* Add a gray background color and some padding to the footer */
    footer {
	  background-color: #ff9933;
      padding: 25px;
    }
     body {
     position: relative; 
  }
  /*code for the navbar "sticking" when scrolled*/
  .affix {
      top:0;
      width: 100%;
      z-index: 9999 !important;
  }
/*container-fluid to fill the viewpoint width*/
  .affix ~ .container-fluid {
     position: relative;
     top: 50px;
  }
  .SwapYaLogo{
  float: left;
  }
  .TextLogo{
  float:left;
  margin-top: 60px;
  padding-top:20px;
  }
  /*scroll for overflow so rows are even height*/
	.fixed-panel {
	overflow-y: scroll;
	height: 100px;
	}	
  </style>
</head>
<body>
<!--to change the icon in the browser tab-->
<div class="jumbotron">
  <div class="container text-right">
  <p>Swap, Learn & Barter</p>
  	<div class="row">
   		<div class="col-sm-2"> 
  		<a href="SwapYa.html"><img class= "SwapYaLogo" src="SwapYaLogo.png" height= 200px;></a>
  		</div>
  		<div class="col-sm-6"> 
  		<img class= "TextLogo" src="text.png">
  		</div>
 				<!--search-->
				<div class="col-sm-4"> 
					<div class="input-group">
					<input type="text" class="form-control" placeholder="Search an Item or Skill..">
						<span class="input-group-btn">
							<button class="btn btn-default" type="button">
								<span class="glyphicon glyphicon-search"></span>
							</button>
						</span>
					</div>
        		</div>			<!-- end of search-->
      		</div>		<!--end of row-->
	</div>		<!--end of container-->
</div>		<!--end of jumbotron-->

<nav class="navbar navbar-inverse" data-spy="affix" data-offset-top="197">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
<!--Code for nav bar-->
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
       <ul class="nav navbar-nav">
          <li><a id="homeLink" onclick = "gotoHome()" style="cursor: pointer;">Home</a></li>
          <li><a id="itemLink" onclick = "gotoItem()" style="cursor: pointer;">Add Items</a></li>
          <li><a id="skillLink" onclick = "gotoSkill()" style="cursor: pointer;">Add Skills</a></li>
        </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="BootstrapUserProfile.html"><span class="glyphicon glyphicon-user"></span> Your Account</a></li>
        <li><a id = "loginLink" onclick = "gotoLogin()" style="cursor: pointer;">Login</a></li>
      </ul>
    </div>
  </div>
</nav>
<!-- Every Row needs to be in the container-->
<div class="container"> 
<!-- 3x4=12 (12 columns) only three posts in a row-->   
  <div class="row">
    <div class="col-sm-4">		<!--span 4 columns (1/3 of view point)-->
      <div class="panel panel-info">
        <div class="panel-heading">Title</div>
        <div class="panel-body"><img src="http://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image"></div>
        <div class="panel-body fixed-panel"> stuff. lots of stuff to test the height of this div stuff. lots of stuff to test the height of this divstuff. lots of stuff to test the height of this div style="max-height: 10;overflow-y: scroll;"style="max-height: </div>
        <div class="panel-footer">Post date here</div>
      </div>
    </div>
    <div class="col-sm-4"> 
      <div class="panel panel-info">
        <div class="panel-heading">Title</div>
        <div class="panel-body"><img src="http://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image"></div>
        <div class="panel-body fixed-panel"> stuff. lots of stuff to test the height of this div stuff. lots of stuff to test the height of this divstuff. lots of stuff to test the height of this div style="max-height: 10;overflow-y: scroll;"style="max-height: </div>
        <div class="panel-footer">Post date here</div>
      </div>
    </div>
    <div class="col-sm-4"> 
      <div class="panel panel-info">
        <div class="panel-heading">Title</div>
        <div class="panel-body"><img src="http://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image"></div>
        <div class="panel-body fixed-panel"> stuff. lots of stuff to test the height of this div stuff. lots of stuff to test the height of this divstuff. lots of stuff to test the height of this div style="max-height: 10;overflow-y: scroll;"style="max-height: </div>
        <div class="panel-footer">Post date here</div>
      </div>
    </div>
  </div>		<!--end of row-->
</div><br> 	<!--end of container-->

<div class="container">    
  <div class="row">
    <div class="col-sm-4">
      <div class="panel panel-info">
        <div class="panel-heading">Title</div>
        <div class="panel-body"><img src="http://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image"></div>
        <div class="panel-body fixed-panel"></div>
        <div class="panel-footer">Post date here</div>
      </div>
    </div>
    <div class="col-sm-4"> 
      <div class="panel panel-info">
        <div class="panel-heading">Title</div>
        <div class="panel-body"><img src="http://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image"></div>
        <div class="panel-body fixed-panel"></div>
        <div class="panel-footer">Post date here</div>
      </div>
    </div>
    <div class="col-sm-4"> 
      <div class="panel panel-info">
        <div class="panel-heading">Title</div>
        <div class="panel-body"><img src="http://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image"></div>
        <div class="panel-body fixed-panel"></div>
        <div class="panel-footer">Post date here</div>
      </div>
    </div>
  </div>
</div><br><br>
<!--footer with copyright symbol-->
<footer class="container-fluid text-center">
  <p>SwapYa Copyright <span class="glyphicon glyphicon-copyright-mark"></span></p>
</footer>
	
	<script>
		var dataRef = new Firebase('FIREBASE LINK HERE');
		var authData = dataRef.getAuth();
		var emailLog = authData.password.email; 
		/*I retrieved the user's email here to use for the database query below.
			From what I understand, I think it's similar to saying
			SELECT firstname, username FROM database WHERE email = "joey@joey.com";
			Since it can only return one value, we can't go wrong.
			There's probably a better way of doing this, but it works :)
		*/
		
		
		dataRef.orderByChild("email").equalTo(emailLog).on("child_added", function(snapshot) {
		document.getElementById("welcome").innerHTML = "Hi, " + snapshot.val().firstname + "!";
		document.getElementById("yourUserName").innerHTML = "Your username is: " + snapshot.val().username + " and you are signed in successfully";
		
		});	
		//Functions for links at top of page:
		$("#profileImg").click(gotoProfile);
		function gotoProfile(){
		window.location="UserProfile.html"};
		
		$("#homeLink").click(gotoHome);
		function gotoHome(){
		window.location="SwapYa.html"};
		
		$("#skillLink").click(gotoSkill);
		function gotoSkill(){
		window.location="CreateSkillPost.html"};
		
		$("#profileImg").click(gotoItem);
		function gotoItem(){
		window.location="CreateItemPost.html"};
		
		$("#loginLink").click(gotoLogin);
		function gotoLogin(){
		window.location="Login.html"};
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <title>SwapYa!</title>
    <!--to change the icon in the browser tab-->
<link rel="shortcut icon" type="image/png" href="favicon-32x32.png" sizes="32x32"  />
<link rel="shortcut icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<!-- Firebase -->
	<script src='https://cdn.firebase.com/js/client/2.4.1/firebase.js'></script>
	<!-- AngularJS -->
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
  <style>
    /* Remove the navbar's default rounded borders and increase the bottom margin */ 
    .navbar {
      margin-bottom: 50px;
      border-radius: 0;
      background-color :#ff9933;
      border-color: transparent;
    }
    /* changing the font color of the navBar */
    .nav.navbar-nav li a {
    color: black;
	}
	
    /* Remove the gap underneath the jumbotron (between its bottom and the nav bar) */ 
     .jumbotron {
      margin-bottom: 0;
      background:linear-gradient(#EDF1F2, #7AABFA) fixed;
    }
   
    /* Add a background colour and some padding to the footer */
    footer {
	  background-color: #ff9933;
      padding: 25px;
    }
     body {
     position: relative; 
  }
  /*code for the navbar "sticking" when scrolled*/
  .affix {
      top:0;
      width: 100%;
      z-index: 9999 !important;
  }
/*container-fluid to fill the viewpoint width*/
  .affix ~ .container-fluid {
     position: relative;
     top: 50px;
  }
  .SwapYaLogo{
  float: left;
  }
  .TextLogo{
  float:left;
  margin-top: 60px;
  padding-top:20px;
  }
  /*scroll for overflow so rows are even height*/
	.fixed-panel {
	overflow-y: scroll;
	height: 100px;
	}

  </style>
</head>
<body>

<div class="jumbotron">
  <div class="container text-right">
  <p>Swap, Learn & Barter</p>
  	<div class="row">
   		<div class="col-sm-2"> 
  		<a href="SwapYa.html"><img class= "SwapYaLogo" src="SwapYaLogo.png" height= 200px;></a>
  		</div>
  		<div class="col-sm-6"> 
  		<img class= "TextLogo" src="text.png">
  		</div>
  		
  	 	<div class="col-sm-4"> 
        	<div class="input-group">
        	<input type="text" class="form-control" placeholder="Search an Item or Skill..">
        	<span class="input-group-btn">
          		<button class="btn btn-default" type="button">
            	<span class="glyphicon glyphicon-search"></span>
          		</button>
        		</span>
        		</div>
        		</div>
      		</div>
    	</div>
	</div>
  </div>
</div>

<!--Code for nav bar-->
<nav class="navbar navbar-inverse" data-spy="affix" data-offset-top="197">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>

    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
       <ul class="nav navbar-nav">
          <li><a id="homeLink" href="SwapYa.html" style="cursor: pointer;">Home</a></li>
          <li><a id="itemLink" href="CreateItemPost.html" style="cursor: pointer;">Add Items</a></li>
          <li><a id="skillLink" href="CreateSkillPost.html" style="cursor: pointer;">Add Skills</a></li>
        </ul>
      <ul class="nav navbar-nav navbar-right">
      </ul>
    </div>
  </div>
</nav>
<br/></br><br/><br/>
<!--container for the form-->
<div class="col-md-offset-4">

<h2>Create User Account</h2>
	<form class="form-horizontal" role="form">
	<div class="form-group">
		<label class="control-label col-sm-2" for="firstNameInput">First Name:</label>
		<div class="col-sm-10">
			<input  type='text' id='firstNameInput' placeholder='FirstName'>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-2" for="lastNameInput">Last Name:</label>
		<div class="col-sm-10">
		<input  type='text' id='lastNameInput' placeholder='LastName'>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-2" for="userNameInput">Username:</label>
		<div class="col-sm-10">
		<input   type='text' id='userNameInput' placeholder='Username'>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-2" for="emailInput">Email:</label>
		<div class="col-sm-10">
		<input   type='email' id='emailInput' placeholder='Email'>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-2" for="passwordInput">Password:</label>
		<div class="col-sm-10">
		<input  type='password' id='passwordInput' placeholder='Password'><br>
		</div>
	</div>
	<div class="form-group">
		<label class="control-label col-sm-2" for="confirmPasswordInput">Confirm Password:</label>
		<div class="col-sm-10">
		<input  type='password' id='confirmPasswordInput' placeholder='Confirm Password'><br>
		</div>
	</div>
		<div class="form-group">
		<div class="col-sm-10">
			<label class="control-label col-sm-2" for="confirmPasswordInput">Upload Picture:</label>
			<input id="inputFileToLoad" type="file" onchange="encodeImageFileAsURL();">
		</div>
	</div>
	<div class="form-group">
	<div class="col-sm-offset-2 col-sm-10">
		<input  type="submit" id="submitBtn" value="Submit">
		</div>
	</div>
   </form>
   </div>
   </div>
   	<div class="col-md-offset-4">
	<br/><br/><br/>

	</div>	<!--end of container-->
<!--footer with copyright symbol-->
<footer class="container-fluid text-center">
  <p>SwapYa Copyright <span class="glyphicon glyphicon-copyright-mark"></span></p>
</footer>
<script>
/*code for images*/
var srcData;
function encodeImageFileAsURL(){

		    var filesSelected = document.getElementById("inputFileToLoad").files;
		    if (filesSelected.length > 0)
		    {
		        var fileToLoad = filesSelected[0];

		        var fileReader = new FileReader();

		        fileReader.onload = function(fileLoadedEvent) {
		        	//this converts are img into base64
		            srcData = fileLoadedEvent.target.result; 
		  			//stores the string in the database
					
		            alert("Image uploaded");
					}
				
		        }
		        fileReader.readAsDataURL(fileToLoad);
		    }

      var myDataRef = new Firebase('FIREBASE LINK HERE');
		$("#submitBtn").click(myFunction);
		function myFunction()	{
          var firstname = $('#firstNameInput').val();
		  var lastname = $('#lastNameInput').val();
		  var username = $('#userNameInput').val();
          var email = $('#emailInput').val();
		  var password = $('#passwordInput').val();
		  var confirmpassword = $('#confirmPasswordInput').val();
          myDataRef.push({firstname: firstname, lastname: lastname, username: username, email: email, password: password, confirmpassword: confirmpassword, photo: srcData});
          $('#passwordInput').val('');
		  if (password == confirmpassword){
		  myDataRef.createUser({
			email: email,
			password: password,
			
			firstname: firstname,
			lastname: lastname,
			username: username,
			
			confirmpassword: confirmpassword
			}, function(error, userData) {
			if (error) {
				switch (error.code) {
					case "EMAIL_TAKEN":
					console.log("The new user account cannot be created because the email is already in use.");
					break;
					case "INVALID_EMAIL":
					console.log("The specified email is not a valid email.");
					break;
					default:
					console.log("Error creating user:", error);
			}
			} else {
				console.log("Successfully created user account with uid:", userData.uid);
				window.location.href="Login.html";
			}
			});}
			return false;
        }
    </script>
</body>
</html>